const{Sequelize:Sequelize}=require("sequelize"),mysql=require("mysql2/promise");var dotenv=require("dotenv");dotenv.config();const PORT=process.env.MYSQL_PORT,HOST=process.env.MYSQL_HOST,DATABASE="sprint4-jwt",USERNAME=process.env.MYSQL_USERNAME,PASSWORD=process.env.MYSQL_PASSWORD,sequelize=new Sequelize(DATABASE,USERNAME,PASSWORD,{HOST:HOST,dialect:"mysql",PORT:PORT,define:{timestamps:!1,raw:!0},logging:!1}),connectSequelize=async()=>{try{console.log(USERNAME);const connection=await mysql.createConnection({port:PORT,user:USERNAME,password:PASSWORD});await connection.query("%c CREATE DATABASE IF NOT EXISTS `sprint4-jwt`;"),await sequelize.sync({force:!1}),console.log("Connection to mySQL-DB has been established successfully.")}catch(error){console.error("Unable to connect to the database:",error),process.exit()}};module.exports={checkDB:connectSequelize,sequelize:sequelize};